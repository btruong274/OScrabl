<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Actions.html">
<link rel="next" href="Main.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Board" rel="Chapter" href="Board.html">
<link title="Actions" rel="Chapter" href="Actions.html">
<link title="Moment" rel="Chapter" href="Moment.html">
<link title="Main" rel="Chapter" href="Main.html">
<link title="Words" rel="Chapter" href="Words.html">
<link title="Ai" rel="Chapter" href="Ai.html"><title>Moment</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Actions.html" title="Actions">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Main.html" title="Main">Next</a>
</div>
<h1>Module <a href="type_Moment.html">Moment</a></h1>

<pre><span id="MODULEMoment"><span class="keyword">module</span> Moment</span>: <code class="code">sig</code> <a href="Moment.html">..</a> <code class="code">end</code></pre><hr width="100%">

<pre><span id="EXCEPTIONEmptyBag"><span class="keyword">exception</span> EmptyBag</span></pre>
<div class="info ">
<div class="info-desc">
<p>the exception raised when there is an attempt to draw from an empty bag</p>
</div>
</div>

<pre><span id="EXCEPTIONMissingTilesToExchange"><span class="keyword">exception</span> MissingTilesToExchange</span></pre>

<pre><span id="EXCEPTIONInvalidExchange"><span class="keyword">exception</span> InvalidExchange</span></pre>

<pre><code><span id="TYPEplayer"><span class="keyword">type</span> <code class="type"></code>player</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTplayer.name">name</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTplayer.dock">dock</span>&nbsp;: <code class="type"><a href="Board.html#TYPEpretile">Board.pretile</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTplayer.score">score</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr></table>
}

<div class="info ">
<div class="info-desc">
<p>the type of the player</p>
</div>
</div>


<pre><code><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.board">board</span>&nbsp;: <code class="type"><a href="Board.html#TYPEboard">Board.board</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.bag">bag</span>&nbsp;: <code class="type"><a href="Board.html#TYPEpretile">Board.pretile</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.players">players</span>&nbsp;: <code class="type"><a href="Moment.html#TYPEplayer">player</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.current_player">current_player</span>&nbsp;: <code class="type"><a href="Moment.html#TYPEplayer">player</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.log">log</span>&nbsp;: <code class="type">string list</code>;</code></td>

</tr></table>
}

<div class="info ">
<div class="info-desc">
<p>the type of the moment (state)</p>
</div>
</div>


<pre><span id="VALcreate_player"><span class="keyword">val</span> create_player</span> : <code class="type">string -> <a href="Board.html#TYPEpretile">Board.pretile</a> list -> int -> <a href="Moment.html#TYPEplayer">player</a></code></pre>
<pre><span id="VALcreate_moment"><span class="keyword">val</span> create_moment</span> : <code class="type"><a href="Board.html#TYPEboard">Board.board</a> -><br>       <a href="Board.html#TYPEpretile">Board.pretile</a> list -><br>       <a href="Moment.html#TYPEplayer">player</a> list -> <a href="Moment.html#TYPEplayer">player</a> -> string list -> <a href="Moment.html#TYPEt">t</a></code></pre>
<pre><span id="VALget_board"><span class="keyword">val</span> get_board</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> <a href="Board.html#TYPEboard">Board.board</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_board</code> t -&gt; Board.board
    Returns the board of the current game state.</p>
</div>
</div>

<pre><span id="VALget_name"><span class="keyword">val</span> get_name</span> : <code class="type"><a href="Moment.html#TYPEplayer">player</a> -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_name</code> player -&gt; string
    Returns the name of the given player.</p>
</div>
</div>

<pre><span id="VALget_player_score"><span class="keyword">val</span> get_player_score</span> : <code class="type"><a href="Moment.html#TYPEplayer">player</a> -> int</code></pre>
<pre><span id="VALget_current_player"><span class="keyword">val</span> get_current_player</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> <a href="Moment.html#TYPEplayer">player</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_current_player</code> t -&gt; player
    Returns the currently active player in the game state.</p>
</div>
</div>

<pre><span id="VALget_other_player"><span class="keyword">val</span> get_other_player</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> <a href="Moment.html#TYPEplayer">player</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_other_player</code> t -&gt; player
    Is the non-active player.</p>
</div>
</div>

<pre><span id="VALget_dock"><span class="keyword">val</span> get_dock</span> : <code class="type"><a href="Moment.html#TYPEplayer">player</a> -> <a href="Board.html#TYPEpretile">Board.pretile</a> list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_dock</code> player -&gt; Board.pretile list
    is the dock of a selected player</p>
</div>
</div>

<pre><span id="VALget_current_dock"><span class="keyword">val</span> get_current_dock</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> <a href="Board.html#TYPEpretile">Board.pretile</a> list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_current_dock</code> t -&gt; Board.pretile list
    is the dock of the current player.</p>
</div>
</div>

<pre><span id="VALrand_num"><span class="keyword">val</span> rand_num</span> : <code class="type">unit -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">rand_num</code> is a random integer of 30 bits</p>
</div>
</div>

<pre><span id="VALshuffle_bag"><span class="keyword">val</span> shuffle_bag</span> : <code class="type">'a list -> 'a list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">shuffle_bag bag</code> is <code class="code">bag</code> with its contents in a random order</p>
</div>
</div>

<pre><span id="VALmake_tile"><span class="keyword">val</span> make_tile</span> : <code class="type">Yojson.Basic.json -> <a href="Board.html#TYPEpretile">Board.pretile</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">make_tile tile</code> creates the pretile record type from a json object <code class="code">tile</code></p>
</div>
</div>

<pre><span id="VALtiles_from_json"><span class="keyword">val</span> tiles_from_json</span> : <code class="type"><a href="Board.html#TYPEpretile">Board.pretile</a> list</code></pre><div class="info ">
<div class="info-desc">
<p>TODO: docs</p>
</div>
</div>

<pre><span id="VALinit_bag"><span class="keyword">val</span> init_bag</span> : <code class="type"><a href="Board.html#TYPEpretile">Board.pretile</a> list</code></pre>
<pre><span id="VALdraw_n"><span class="keyword">val</span> draw_n</span> : <code class="type">'a list -> int -> 'a list * 'a list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">draw_n start_bag start_n</code> is the previous two functions simplified and then
    squished into one function</p>
</div>
</div>

<pre><span id="VALshift"><span class="keyword">val</span> shift</span> : <code class="type">'a list -> 'a list</code></pre><div class="info ">
<div class="info-desc">
<p>shift log if length greater than 36</p>
</div>
</div>

<pre><span id="VALinit_draw_num"><span class="keyword">val</span> init_draw_num</span> : <code class="type">int -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">init_draw_num</code> is the number of tiles to draw from the bag at the start of
    the game</p>
</div>
</div>

<pre><span id="VALinit_state"><span class="keyword">val</span> init_state</span> : <code class="type"><a href="Moment.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">init_state</code> creates a state with an empty board, a player with 7 random
    tiles drawn from a bag, and a bag with all tiles except for those 7</p>
</div>
</div>

<pre><span id="VALadd_players"><span class="keyword">val</span> add_players</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> string list -> <a href="Moment.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">add_players state players</code> creates a new state from the list of player
    names</p>
</div>
</div>

<pre><span id="VALletter_to_tile"><span class="keyword">val</span> letter_to_tile</span> : <code class="type">string -> <a href="Moment.html#TYPEplayer">player</a> -> <a href="Board.html#TYPEpretile">Board.pretile</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">letter_to_tile</code> is a function taking a string containing a single letter
    and a dock as input, then returns the tile containing the letter in the dock
    if it exists.</p>
</div>
</div>

<pre><span id="VALletter_to_tile"><span class="keyword">val</span> letter_to_tile</span> : <code class="type">string -> <a href="Moment.html#TYPEplayer">player</a> -> <a href="Board.html#TYPEpretile">Board.pretile</a></code></pre>
<pre><span id="VALremove_tile_from_dock"><span class="keyword">val</span> remove_tile_from_dock</span> : <code class="type"><a href="Moment.html#TYPEplayer">player</a> -> <a href="Board.html#TYPEpretile">Board.pretile</a> -> <a href="Moment.html#TYPEplayer">player</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">remove_tile_from_dock state tile</code> returns the player in which <code class="code">tile</code> has
    been removed from the current players dock in <code class="code">state</code></p>
</div>
</div>

<pre><span id="VALplay_word"><span class="keyword">val</span> play_word</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> <a href="Moment.html#TYPEt">t</a> * string</code></pre><div class="info ">
<div class="info-desc">
<p>turn ending implemented for 1 player game</p>
</div>
</div>

<pre><span id="VALexchange"><span class="keyword">val</span> exchange</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> string list -> <a href="Moment.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">exchange</code> t -&gt; string list -&gt; t
    takes in the current game state and a string list from user input and
    removes them from the dock, then refills the dock,
    effectively "exchanging" the tiles.</p>
</div>
</div>

<pre><span id="VALrecall"><span class="keyword">val</span> recall</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> <a href="Moment.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">recall st</code> is the updated <code class="code">st</code> after Unfinal tiles are recalled.</p>
</div>
</div>

<pre><span id="VALplace_tile"><span class="keyword">val</span> place_tile</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> string * (int * int) -> <a href="Moment.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">place_tile state (letter,(row,col))</code> is the new state after a tile
    corresponding to <code class="code">letter</code> has been taken from the current player's dock and
    placed onto the board at the position specified by (row,col). Raises
    BadSelection if there is no tile in the player's dock of that letter.</p>
</div>
</div>

<pre><span id="VALpickup_tile"><span class="keyword">val</span> pickup_tile</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> int * int -> <a href="Moment.html#TYPEt">t</a> * string</code></pre><div class="info ">
<div class="info-desc">
<p>TODO: docs</p>
</div>
</div>

<pre><span id="VALget_score"><span class="keyword">val</span> get_score</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> string</code></pre><div class="info ">
<div class="info-desc">
<p>TODO: docs</p>
</div>
</div>

<pre><span id="VALoffset"><span class="keyword">val</span> offset</span> : <code class="type"><a href="Board.html#TYPEpretile">Board.pretile</a> -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">offset tile</code> is the spaces needed after the value of a tile in order to
    account for differences in number of digits.</p>
</div>
</div>

<pre><span id="VALprint_topline"><span class="keyword">val</span> print_topline</span> : <code class="type">(<a href="Board.html#TYPEtile">Board.tile</a> * <a href="Board.html#TYPEmultiplier">Board.multiplier</a>) list -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">print_topline line</code> prints the top half of <code class="code">line</code>, where <code class="code">line</code> is one row
    of a board</p>
</div>
</div>

<pre><span id="VALprint_botline"><span class="keyword">val</span> print_botline</span> : <code class="type">(<a href="Board.html#TYPEtile">Board.tile</a> * <a href="Board.html#TYPEmultiplier">Board.multiplier</a>) list -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">print_topline line</code> prints the bottom half of <code class="code">line</code>, where <code class="code">line</code> is one
    row of a board</p>
</div>
</div>

<pre><span id="VALprint_linenum"><span class="keyword">val</span> print_linenum</span> : <code class="type">int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">print_linenum i</code> prints the character corresponding to the row number with
    A for row 1, B for row 2, and so on</p>
</div>
</div>

<pre><span id="VALprint_lineright"><span class="keyword">val</span> print_lineright</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>TODO: docs</p>
</div>
</div>

<pre><span id="VALprint_topright"><span class="keyword">val</span> print_topright</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>TODO: docs</p>
</div>
</div>

<pre><span id="VALprint_botright"><span class="keyword">val</span> print_botright</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>TODO: docs</p>
</div>
</div>

<pre><span id="VALprint_board"><span class="keyword">val</span> print_board</span> : <code class="type">(<a href="Board.html#TYPEtile">Board.tile</a> * <a href="Board.html#TYPEmultiplier">Board.multiplier</a>) list list -> <a href="Moment.html#TYPEt">t</a> -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">print_board board</code> prints a graphical representation of <code class="code">board</code> into the
    terminal window</p>
</div>
</div>

<pre><span id="VALprint_docktop"><span class="keyword">val</span> print_docktop</span> : <code class="type"><a href="Board.html#TYPEpretile">Board.pretile</a> list -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">print_docktop dock</code> prints the top line of a players dock of tiles</p>
</div>
</div>

<pre><span id="VALprint_dockbot"><span class="keyword">val</span> print_dockbot</span> : <code class="type"><a href="Board.html#TYPEpretile">Board.pretile</a> list -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">print_dockbot dock</code> prints the bottom line a players dock of tiles</p>
</div>
</div>

<pre><span id="VALdock_offset"><span class="keyword">val</span> dock_offset</span> : <code class="type">'a list -> string</code></pre><div class="info ">
<div class="info-desc">
<p>TODO: docs</p>
</div>
</div>

<pre><span id="VALprint_dock"><span class="keyword">val</span> print_dock</span> : <code class="type"><a href="Moment.html#TYPEplayer">player</a> -> string -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">print_dock player</code> prints all of the tiles in a players docks</p>
</div>
</div>

<pre><span id="VALprint_game"><span class="keyword">val</span> print_game</span> : <code class="type"><a href="Moment.html#TYPEt">t</a> -> string -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">print_game st</code> prints the board and dock of the state <code class="code">st</code></p>
</div>
</div>
</body></html>